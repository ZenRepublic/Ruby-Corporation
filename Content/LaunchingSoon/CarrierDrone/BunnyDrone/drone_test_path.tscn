[gd_scene load_steps=10 format=3 uid="uid://bh2yxch21q11p"]

[ext_resource type="PackedScene" uid="uid://rjg5jerv3gs6" path="res://Drone/drone.tscn" id="1_o3kws"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_o3kws"]
sky_top_color = Color(0.493828, 0.40269, 0.585399, 1)
sky_horizon_color = Color(0.681345, 0.638654, 0.696214, 1)
ground_bottom_color = Color(0.225796, 0.146169, 0.193703, 1)
ground_horizon_color = Color(0.681345, 0.638654, 0.696214, 1)
energy_multiplier = 1.2

[sub_resource type="Sky" id="Sky_i021p"]
sky_material = SubResource("ProceduralSkyMaterial_o3kws")

[sub_resource type="Environment" id="Environment_703vb"]
background_mode = 2
sky = SubResource("Sky_i021p")
tonemap_mode = 2

[sub_resource type="Curve3D" id="Curve3D_i021p"]
closed = true
_data = {
"points": PackedVector3Array(-0.751677, -0.741853, -2.56788, 0.751677, 0.741853, 2.56788, -10.6107, -0.157866, -2.32037, -1.79942, 0.546358, -0.575039, 1.79942, -0.546358, 0.575039, -4.39405, -0.241872, -0.149333, 3.22279, -0.034441, 1.97912, -3.22279, 0.034441, -1.97912, -3.03921, 0.901907, -1.84241, 1.49308, 0.895413, 0.502645, -1.49308, -0.895413, -0.502645, -7.67941, 1.33159, -1.28471),
"tilts": PackedFloat32Array(1.17606, -0.656709, 0, -0.740541)
}
point_count = 4

[sub_resource type="Animation" id="Animation_703vb"]
resource_name = "spin"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Path3D/PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="Animation" id="Animation_ndacu"]
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Path3D/PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lsc54"]
_data = {
&"RESET": SubResource("Animation_ndacu"),
&"spin": SubResource("Animation_703vb")
}

[sub_resource type="Environment" id="Environment_o3kws"]
background_mode = 1
background_color = Color(0.384314, 0.254902, 0.321569, 1)

[node name="DroneTestPath" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.681998, -0.731354, -3.19685e-08, 0, -4.37114e-08, 1, -0.731354, -0.681998, -2.98111e-08, 0, 0, 0)
light_energy = 1.3
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_703vb")

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(0.99982, -0.0171983, -0.0079592, 0.0172007, 0.999852, 0.000234746, 0.00795399, -0.000371622, 0.999968, -0.292204, -0.22062, -0.159839)
curve = SubResource("Curve3D_i021p")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(0.299753, -0.914677, 0.270692, 0.889443, 0.370537, 0.267154, -0.344702, 0.1607, 0.924739, -10.6107, -0.157866, -2.32037)
use_model_front = true

[node name="Drone" parent="Path3D/PathFollow3D" instance=ExtResource("1_o3kws")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_lsc54")
}
autoplay = "RESET"
speed_scale = 0.496

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.950981, 0, -0.309249, 0, 1, 0, 0.309249, 0, 0.950981, -9.04189, 0.998347, 3.85121)
environment = SubResource("Environment_o3kws")
fov = 80.0
